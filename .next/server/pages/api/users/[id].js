"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users/[id]";
exports.ids = ["pages/api/users/[id]"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@supabase/supabase-js");;

/***/ }),

/***/ "(api)/../../node_modules/.pnpm/next@14.2.33_@babel+core@7._c7975f2ee2cecff60ee055e1f1f303a8/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5C%5Bid%5D%5Cindex.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.2.33_@babel+core@7._c7975f2ee2cecff60ee055e1f1f303a8/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5C%5Bid%5D%5Cindex.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/../../node_modules/.pnpm/next@14.2.33_@babel+core@7._c7975f2ee2cecff60ee055e1f1f303a8/node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/../../node_modules/.pnpm/next@14.2.33_@babel+core@7._c7975f2ee2cecff60ee055e1f1f303a8/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/../../node_modules/.pnpm/next@14.2.33_@babel+core@7._c7975f2ee2cecff60ee055e1f1f303a8/node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_users_id_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\users\\[id]\\index.ts */ \"(api)/./pages/api/users/[id]/index.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_users_id_index_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_users_id_index_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_id_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_users_id_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/users/[id]\",\n        pathname: \"/api/users/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_users_id_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMi4zM19AYmFiZWwrY29yZUA3Ll9jNzk3NWYyZWUyY2VjZmY2MGVlMDU1ZTFmMWYzMDNhOC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVzZXJzJTJGJTVCaWQlNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3VzZXJzJTVDJTVCaWQlNUQlNUNpbmRleC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNnRTtBQUNoRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMseURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHlEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvaWNlLW9mLXVwc2EvPzc2MzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFx1c2Vyc1xcXFxbaWRdXFxcXGluZGV4LnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdXNlcnMvW2lkXVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzZXJzL1tpZF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/../../node_modules/.pnpm/next@14.2.33_@babel+core@7._c7975f2ee2cecff60ee055e1f1f303a8/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5C%5Bid%5D%5Cindex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/database-server.ts":
/*!********************************!*\
  !*** ./lib/database-server.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__]);\n_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst supabaseUrl = \"https://hewrjnconmykfzggwhzg.supabase.co\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_URL environment variable\");\n}\nif (!supabaseServiceKey) {\n    throw new Error(\"Missing SUPABASE_SERVICE_ROLE_KEY environment variable\");\n}\n// Create a Supabase client with the service role key for admin operations\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGF0YWJhc2Utc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFEO0FBRXJELE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxxQkFBcUJILFFBQVFDLEdBQUcsQ0FBQ0cseUJBQXlCO0FBRWhFLElBQUksQ0FBQ0wsYUFBYTtJQUNoQixNQUFNLElBQUlNLE1BQU07QUFDbEI7QUFFQSxJQUFJLENBQUNGLG9CQUFvQjtJQUN2QixNQUFNLElBQUlFLE1BQU07QUFDbEI7QUFFQSwwRUFBMEU7QUFDbkUsTUFBTUMsZ0JBQWdCUixtRUFBWUEsQ0FBQ0MsYUFBYUksb0JBQW9CO0lBQ3pFSSxNQUFNO1FBQ0pDLGtCQUFrQjtRQUNsQkMsZ0JBQWdCO0lBQ2xCO0FBQ0YsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvaWNlLW9mLXVwc2EvLi9saWIvZGF0YWJhc2Utc2VydmVyLnRzP2NkN2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xyXG5jb25zdCBzdXBhYmFzZVNlcnZpY2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZO1xyXG5cclxuaWYgKCFzdXBhYmFzZVVybCkge1xyXG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUnKTtcclxufVxyXG5cclxuaWYgKCFzdXBhYmFzZVNlcnZpY2VLZXkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZScpO1xyXG59XHJcblxyXG4vLyBDcmVhdGUgYSBTdXBhYmFzZSBjbGllbnQgd2l0aCB0aGUgc2VydmljZSByb2xlIGtleSBmb3IgYWRtaW4gb3BlcmF0aW9uc1xyXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XHJcbiAgYXV0aDoge1xyXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXHJcbiAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcclxuICB9XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VTZXJ2aWNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIkVycm9yIiwic3VwYWJhc2VBZG1pbiIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/database-server.ts\n");

/***/ }),

/***/ "(api)/./pages/api/users/[id]/index.ts":
/*!***************************************!*\
  !*** ./pages/api/users/[id]/index.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_database_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/database-server */ \"(api)/./lib/database-server.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_database_server__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_database_server__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    const { id } = req.query;\n    if (!id || typeof id !== \"string\") {\n        return res.status(400).json({\n            error: \"User ID is required\"\n        });\n    }\n    try {\n        switch(req.method){\n            case \"GET\":\n                return await handleGet(req, res, id);\n            case \"PUT\":\n                return await handlePut(req, res, id);\n            default:\n                return res.status(405).json({\n                    error: \"Method not allowed\"\n                });\n        }\n    } catch (error) {\n        console.error(\"User API error:\", error);\n        res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\nasync function handleGet(req, res, id) {\n    try {\n        // For GET requests, we require a token for consistent authentication\n        const authHeader = req.headers.authorization;\n        if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n            // If no token, we can't authenticate reliably with admin client\n            return res.status(401).json({\n                error: \"Unauthorized - No token provided\"\n            });\n        }\n        const token = authHeader.replace(\"Bearer \", \"\");\n        // Verify the token and get user\n        const { data: { user }, error: authError } = await _lib_database_server__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.auth.getUser(token);\n        if (authError || !user) {\n            return res.status(401).json({\n                error: \"Unauthorized - Invalid token\"\n            });\n        }\n        // User is authenticated, proceed with request\n        const { data: userData, error } = await _lib_database_server__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"users\").select(`\r\n        id,\r\n        email,\r\n        name,\r\n        role,\r\n        avatar_url,\r\n        bio,\r\n        created_at,\r\n        updated_at\r\n      `).eq(\"id\", id).single();\n        if (error) {\n            console.error(\"Error fetching user:\", error);\n            return res.status(404).json({\n                error: \"User not found\"\n            });\n        }\n        return res.status(200).json(userData);\n    } catch (error) {\n        console.error(\"Error in handleGet:\", error);\n        res.status(500).json({\n            error: \"Failed to fetch user\"\n        });\n    }\n}\nasync function handlePut(req, res, id) {\n    try {\n        // Verify authentication\n        const token = req.headers.authorization?.replace(\"Bearer \", \"\");\n        if (!token) {\n            return res.status(401).json({\n                error: \"No token provided\"\n            });\n        }\n        // Verify the token and get user\n        const { data: { user }, error: authError } = await _lib_database_server__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.auth.getUser(token);\n        if (authError || !user) {\n            return res.status(401).json({\n                error: \"Invalid token\"\n            });\n        }\n        // Check if user can update this profile (own profile or admin)\n        if (user.id !== id) {\n            const { data: requestingUser } = await _lib_database_server__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"users\").select(\"role\").eq(\"id\", user.id).single();\n            if (!requestingUser || requestingUser.role !== \"admin\") {\n                return res.status(403).json({\n                    error: \"Forbidden\"\n                });\n            }\n        }\n        const { name, bio, avatar_url, role } = req.body;\n        // Validate input\n        if (name !== undefined && (typeof name !== \"string\" || name.length > 255)) {\n            return res.status(400).json({\n                error: \"Invalid name\"\n            });\n        }\n        if (bio !== undefined && (typeof bio !== \"string\" || bio.length > 1000)) {\n            return res.status(400).json({\n                error: \"Invalid bio\"\n            });\n        }\n        if (avatar_url !== undefined && (typeof avatar_url !== \"string\" || avatar_url.length > 500)) {\n            return res.status(400).json({\n                error: \"Invalid avatar URL\"\n            });\n        }\n        // Only admins can change roles\n        if (role !== undefined) {\n            const { data: requestingUser } = await _lib_database_server__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"users\").select(\"role\").eq(\"id\", user.id).single();\n            if (!requestingUser || requestingUser.role !== \"admin\") {\n                return res.status(403).json({\n                    error: \"Only admins can change roles\"\n                });\n            }\n            if (![\n                \"user\",\n                \"editor\",\n                \"admin\"\n            ].includes(role)) {\n                return res.status(400).json({\n                    error: \"Invalid role\"\n                });\n            }\n        }\n        // Update user\n        const updateData = {\n            updated_at: new Date().toISOString()\n        };\n        if (name !== undefined) updateData.name = name;\n        if (bio !== undefined) updateData.bio = bio;\n        if (avatar_url !== undefined) updateData.avatar_url = avatar_url;\n        if (role !== undefined) updateData.role = role;\n        const { data: updatedUser, error } = await _lib_database_server__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"users\").update(updateData).eq(\"id\", id).select().single();\n        if (error) {\n            console.error(\"Error updating user:\", error);\n            return res.status(500).json({\n                error: \"Failed to update user\"\n            });\n        }\n        res.status(200).json(updatedUser);\n    } catch (error) {\n        console.error(\"Error in handlePut:\", error);\n        res.status(500).json({\n            error: \"Failed to update user\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3RDLE9BQU9MLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBd0I7UUFDL0Q7UUFFQUwsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ21DO0lBQ3ZCLEVBQUUsT0FBT2xDLE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLHVCQUF1QkE7UUFDckNMLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QjtJQUN4RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdm9pY2Utb2YtdXBzYS8uL3BhZ2VzL2FwaS91c2Vycy9baWRdL2luZGV4LnRzPzY0NGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnQC9saWIvZGF0YWJhc2Utc2VydmVyJztcclxuXHJcbmludGVyZmFjZSBVc2VyVXBkYXRlRGF0YSB7XHJcbiAgbmFtZT86IHN0cmluZztcclxuICBiaW8/OiBzdHJpbmc7XHJcbiAgYXZhdGFyX3VybD86IHN0cmluZztcclxuICByb2xlPzogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcclxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxyXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXHJcbikge1xyXG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgaWYgKCFpZCB8fCB0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIHN3aXRjaCAocmVxLm1ldGhvZCkge1xyXG4gICAgICBjYXNlICdHRVQnOlxyXG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVHZXQocmVxLCByZXMsIGlkKTtcclxuICAgICAgY2FzZSAnUFVUJzpcclxuICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlUHV0KHJlcSwgcmVzLCBpZCk7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdVc2VyIEFQSSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUdldChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSwgaWQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBGb3IgR0VUIHJlcXVlc3RzLCB3ZSByZXF1aXJlIGEgdG9rZW4gZm9yIGNvbnNpc3RlbnQgYXV0aGVudGljYXRpb25cclxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG4gICAgXHJcbiAgICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XHJcbiAgICAgIC8vIElmIG5vIHRva2VuLCB3ZSBjYW4ndCBhdXRoZW50aWNhdGUgcmVsaWFibHkgd2l0aCBhZG1pbiBjbGllbnRcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQgLSBObyB0b2tlbiBwcm92aWRlZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XHJcbiAgICBcclxuICAgIC8vIFZlcmlmeSB0aGUgdG9rZW4gYW5kIGdldCB1c2VyXHJcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluLmF1dGguZ2V0VXNlcih0b2tlbik7XHJcbiAgICBcclxuICAgIGlmIChhdXRoRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQgLSBJbnZhbGlkIHRva2VuJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVc2VyIGlzIGF1dGhlbnRpY2F0ZWQsIHByb2NlZWQgd2l0aCByZXF1ZXN0XHJcbiAgICBjb25zdCB7IGRhdGE6IHVzZXJEYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAuc2VsZWN0KGBcclxuICAgICAgICBpZCxcclxuICAgICAgICBlbWFpbCxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIHJvbGUsXHJcbiAgICAgICAgYXZhdGFyX3VybCxcclxuICAgICAgICBiaW8sXHJcbiAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICB1cGRhdGVkX2F0XHJcbiAgICAgIGApXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXJEYXRhKTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGhhbmRsZUdldDonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHVzZXInIH0pO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUHV0KHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlLCBpZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFZlcmlmeSBhdXRoZW50aWNhdGlvblxyXG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5yZXBsYWNlKCdCZWFyZXIgJywgJycpO1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ05vIHRva2VuIHByb3ZpZGVkJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZnkgdGhlIHRva2VuIGFuZCBnZXQgdXNlclxyXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pbi5hdXRoLmdldFVzZXIodG9rZW4pO1xyXG5cclxuICAgIGlmIChhdXRoRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHRva2VuJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiB1c2VyIGNhbiB1cGRhdGUgdGhpcyBwcm9maWxlIChvd24gcHJvZmlsZSBvciBhZG1pbilcclxuICAgIGlmICh1c2VyLmlkICE9PSBpZCkge1xyXG4gICAgICBjb25zdCB7IGRhdGE6IHJlcXVlc3RpbmdVc2VyIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KCdyb2xlJylcclxuICAgICAgICAuZXEoJ2lkJywgdXNlci5pZClcclxuICAgICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgICBpZiAoIXJlcXVlc3RpbmdVc2VyIHx8IHJlcXVlc3RpbmdVc2VyLnJvbGUgIT09ICdhZG1pbicpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBlcnJvcjogJ0ZvcmJpZGRlbicgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IG5hbWUsIGJpbywgYXZhdGFyX3VybCwgcm9sZSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRcclxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQgJiYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lLmxlbmd0aCA+IDI1NSkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIG5hbWUnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChiaW8gIT09IHVuZGVmaW5lZCAmJiAodHlwZW9mIGJpbyAhPT0gJ3N0cmluZycgfHwgYmlvLmxlbmd0aCA+IDEwMDApKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBiaW8nIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhdmF0YXJfdXJsICE9PSB1bmRlZmluZWQgJiYgKHR5cGVvZiBhdmF0YXJfdXJsICE9PSAnc3RyaW5nJyB8fCBhdmF0YXJfdXJsLmxlbmd0aCA+IDUwMCkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGF2YXRhciBVUkwnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9ubHkgYWRtaW5zIGNhbiBjaGFuZ2Ugcm9sZXNcclxuICAgIGlmIChyb2xlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgY29uc3QgeyBkYXRhOiByZXF1ZXN0aW5nVXNlciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgncm9sZScpXHJcbiAgICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgaWYgKCFyZXF1ZXN0aW5nVXNlciB8fCByZXF1ZXN0aW5nVXNlci5yb2xlICE9PSAnYWRtaW4nKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgZXJyb3I6ICdPbmx5IGFkbWlucyBjYW4gY2hhbmdlIHJvbGVzJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFbJ3VzZXInLCAnZWRpdG9yJywgJ2FkbWluJ10uaW5jbHVkZXMocm9sZSkpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgcm9sZScgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgdXNlclxyXG4gICAgY29uc3QgdXBkYXRlRGF0YTogVXNlclVwZGF0ZURhdGEgPSB7IHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9O1xyXG4gICAgXHJcbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLm5hbWUgPSBuYW1lO1xyXG4gICAgaWYgKGJpbyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmJpbyA9IGJpbztcclxuICAgIGlmIChhdmF0YXJfdXJsICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuYXZhdGFyX3VybCA9IGF2YXRhcl91cmw7XHJcbiAgICBpZiAocm9sZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnJvbGUgPSByb2xlO1xyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZFVzZXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHVzZXInIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVwZGF0ZWRVc2VyKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gaGFuZGxlUHV0OicsIGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHVzZXInIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsic3VwYWJhc2VBZG1pbiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJpZCIsInF1ZXJ5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWV0aG9kIiwiaGFuZGxlR2V0IiwiaGFuZGxlUHV0IiwiY29uc29sZSIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXJ0c1dpdGgiLCJ0b2tlbiIsInJlcGxhY2UiLCJkYXRhIiwidXNlciIsImF1dGhFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwidXNlckRhdGEiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJyZXF1ZXN0aW5nVXNlciIsInJvbGUiLCJuYW1lIiwiYmlvIiwiYXZhdGFyX3VybCIsImJvZHkiLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInVwZGF0ZURhdGEiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZFVzZXIiLCJ1cGRhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/users/[id]/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.33_@babel+core@7._c7975f2ee2cecff60ee055e1f1f303a8"], () => (__webpack_exec__("(api)/../../node_modules/.pnpm/next@14.2.33_@babel+core@7._c7975f2ee2cecff60ee055e1f1f303a8/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusers%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cusers%5C%5Bid%5D%5Cindex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();